<!DOCTYPE html>
<html lang="ckb" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#090014">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>SURVIVOR ULTRA | SUPER ULTRA EDITION</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rudaw:wght@400;700;900&family=Noto+Sans+Arabic:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* ==================== 1. DESIGN SYSTEM (ROOT) ==================== */
        :root {
            /* Core Palette */
            --void-bg: #05000a;
            --deep-space: #0f001e;
            --glass-surface: rgba(20, 20, 35, 0.6);
            --glass-border: rgba(255, 255, 255, 0.08);
            
            /* Neon Accents */
            --neon-cyan: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-pink: #ff0055;
            --neon-gold: #ffd700;
            --neon-green: #00ff9d;
            
            /* Gradients */
            --grad-main: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
            --grad-fire: linear-gradient(135deg, var(--neon-pink), #ff5e00);
            --grad-glass: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
            
            /* Typography */
            --font-kurdish: 'Noto Sans Arabic', sans-serif;
            --font-numbers: 'Orbitron', sans-serif;
            
            /* Effects */
            --shadow-glow: 0 0 20px rgba(188, 19, 254, 0.3);
            --shadow-card: 0 10px 40px rgba(0,0,0,0.5);
        }

        /* ==================== 2. GLOBAL RESET & BASE ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none; /* Prevent text selection for app-like feel */
        }

        body {
            background-color: var(--void-bg);
            color: white;
            font-family: var(--font-kurdish);
            height: 100vh;
            width: 100vw;
            overflow: hidden; /* No scrolling allowed */
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* ==================== 3. CINEMATIC BACKGROUND ==================== */
        .universe-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            perspective: 1000px;
            overflow: hidden;
            background: radial-gradient(circle at center, #1a0033 0%, var(--void-bg) 70%);
        }

        /* Moving Grid Floor */
        .cyber-grid {
            position: absolute;
            width: 200%; height: 200%;
            bottom: -50%; left: -50%;
            background-image: 
                linear-gradient(var(--neon-purple) 1px, transparent 1px),
                linear-gradient(90deg, var(--neon-purple) 1px, transparent 1px);
            background-size: 60px 60px;
            background-position: 0 0;
            transform: rotateX(60deg);
            opacity: 0.15;
            animation: gridFlow 20s linear infinite;
            mask-image: linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 80%);
        }

        @keyframes gridFlow {
            0% { transform: rotateX(60deg) translateY(0); }
            100% { transform: rotateX(60deg) translateY(60px); }
        }

        /* Floating Orbs */
        .nebula-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.4;
            animation: floatOrb 10s ease-in-out infinite alternate;
        }
        .orb-1 { width: 400px; height: 400px; background: var(--neon-cyan); top: -100px; right: -100px; }
        .orb-2 { width: 300px; height: 300px; background: var(--neon-pink); bottom: -50px; left: -50px; animation-delay: -5s; }

        @keyframes floatOrb {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, 50px) scale(1.1); }
        }

        /* Particles */
        .stars {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.3;
            animation: starTwinkle 4s infinite;
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }

        /* ==================== 4. LOADING SCREEN ==================== */
        #loader-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--void-bg);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        .loader-content {
            position: relative;
            width: 150px;
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .spinner-ring {
            position: absolute;
            width: 100%; height: 100%;
            border: 4px solid transparent;
            border-top-color: var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .spinner-ring::before {
            content: ''; position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;
            border: 4px solid transparent;
            border-top-color: var(--neon-pink);
            border-radius: 50%;
            animation: spin 2s linear infinite reverse;
        }

        .loader-logo {
            font-family: var(--font-numbers);
            font-size: 2rem;
            font-weight: 900;
            background: var(--grad-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite;
        }

        .loading-text {
            margin-top: 2rem;
            color: rgba(255,255,255,0.5);
            font-size: 0.9rem;
            letter-spacing: 2px;
            animation: blink 1.5s infinite;
        }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(0.95); } }
        @keyframes blink { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        /* ==================== 5. UI COMPONENT STYLES ==================== */
        
        /* Screen Transitions */
        .screen-container {
            position: relative;
            width: 100%; height: 100%;
            display: flex; justify-content: center;
            overflow: hidden;
        }

        .screen {
            position: absolute;
            inset: 0;
            padding: 24px;
            display: flex; flex-direction: column;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95) translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            backdrop-filter: blur(0px); /* Performance Optimization */
        }

        .screen.active {
            opacity: 1;
            pointer-events: all;
            transform: scale(1) translateY(0);
            z-index: 10;
        }

        /* Glass Cards */
        .glass-card {
            background: linear-gradient(160deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            padding: 20px;
        }

        /* Neon Buttons */
        .btn {
            position: relative;
            border: none; outline: none;
            background: rgba(255,255,255,0.05);
            color: white;
            padding: 18px 24px;
            border-radius: 16px;
            font-family: var(--font-kurdish);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .btn:active { transform: scale(0.95); }

        .btn-primary {
            background: var(--grad-main);
            box-shadow: 0 4px 15px rgba(188, 19, 254, 0.4);
            border: none;
        }
        
        .btn-primary:hover { box-shadow: 0 6px 25px rgba(188, 19, 254, 0.6); }

        .btn-game {
            width: 100%;
            justify-content: space-between;
            background: rgba(15, 23, 42, 0.6);
            margin-bottom: 12px;
            text-align: right;
            border-right: 4px solid transparent;
        }

        .btn-game.selected { border-right-color: white; background: rgba(255,255,255,0.1); }
        .btn-game.correct { background: rgba(0, 255, 157, 0.2); border-color: var(--neon-green); color: var(--neon-green); }
        .btn-game.wrong { background: rgba(255, 0, 85, 0.2); border-color: var(--neon-pink); color: var(--neon-pink); }

        /* Icon Buttons (Top Bar) */
        .btn-icon {
            width: 45px; height: 45px;
            border-radius: 12px;
            padding: 0;
            background: rgba(255,255,255,0.05);
            font-size: 1.2rem;
        }

        /* Typography & Badges */
        .game-title {
            font-family: var(--font-numbers);
            font-size: 3rem;
            line-height: 1;
            margin-bottom: 10px;
            background: linear-gradient(to bottom, #fff, #aaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
        }

        .level-badge {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--neon-cyan);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            color: var(--neon-cyan);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
            display: inline-block;
        }

        /* Timer Bar */
        .timer-container {
            width: 100%; height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        .timer-bar {
            height: 100%; width: 100%;
            background: var(--grad-fire);
            box-shadow: 0 0 10px var(--neon-pink);
            transform-origin: left;
        }

        /* Powerups Grid */
        .powerup-row {
            display: flex; gap: 12px; justify-content: center; margin-top: auto;
        }
        .p-item {
            position: relative;
            width: 65px; height: 65px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 18px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: white; font-size: 1.2rem; cursor: pointer;
            transition: 0.2s;
        }
        .p-item span { font-size: 0.6rem; margin-top: 4px; opacity: 0.7; font-family: var(--font-numbers); }
        .p-item:active { transform: scale(0.9); }
        .p-item.disabled { opacity: 0.3; filter: grayscale(1); cursor: not-allowed; }
        
        .p-badge {
            position: absolute; top: -5px; right: -5px;
            background: var(--neon-gold); color: black;
            font-size: 0.6rem; font-weight: bold;
            width: 20px; height: 20px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }

        /* ==================== 6. NEW COMPONENTS ==================== */
        
        /* Admin Panel */
        .admin-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
            overflow-y: auto;
            max-height: 400px;
        }

        .admin-card {
            background: rgba(255, 0, 85, 0.1);
            border: 1px solid var(--neon-pink);
            border-radius: 20px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
        }

        /* Countdown Display */
        #countdown-display {
            font-family: var(--font-numbers);
            font-size: 4rem;
            font-weight: 900;
            color: var(--neon-cyan);
            text-shadow: 0 0 20px var(--neon-cyan);
            margin: 20px 0;
            text-align: center;
        }

        .countdown-message {
            text-align: center;
            color: rgba(255,255,255,0.7);
            margin-bottom: 10px;
        }

        /* Ad Container */
        #ad-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            display: none;
        }

        .ad-video {
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(188, 19, 254, 0.5);
        }

        .skip-ad {
            margin-top: 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
        }

        /* Profile Picture Upload */
        .profile-pic-container {
            width: 120px;
            height: 120px;
            margin: 20px auto;
            border-radius: 50%;
            overflow: hidden;
            background: var(--grad-main);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
            cursor: pointer;
        }

        .profile-pic-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(0,0,0,0.7);
            padding: 5px;
            font-size: 0.8rem;
            text-align: center;
            display: none;
        }

        .profile-pic-container:hover .profile-pic-overlay {
            display: block;
        }

        /* Shop Admin */
        .shop-admin-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            margin-bottom: 10px;
        }

        .shop-admin-controls {
            display: flex;
            gap: 10px;
        }

        /* Login Form */
        .login-form {
            background: var(--glass-surface);
            border-radius: 24px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            margin: auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: rgba(255,255,255,0.7);
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            color: white;
            font-family: var(--font-kurdish);
            font-size: 1rem;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--neon-cyan);
        }
    </style>
</head>
<body>
    <div class="universe-container">
        <div class="cyber-grid"></div>
        <div class="nebula-orb orb-1"></div>
        <div class="nebula-orb orb-2"></div>
        <div class="stars"></div>
    </div>

    <div id="loader-overlay">
        <div class="loader-content">
            <div class="spinner-ring"></div>
            <div class="loader-logo">S-U</div>
        </div>
        <div class="loading-text">INITIALIZING SYSTEM...</div>
    </div>

    <!-- Ad Container -->
    <div id="ad-container">
        <video id="ad-video" class="ad-video" controls>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <button class="skip-ad" onclick="hideAd()">ØªÛÙ¾Û•Ú•Ø§Ù†Ø¯Ù†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù… (5s)</button>
    </div>

    <main class="screen-container">
        
        <!-- Login Screen -->
        <section id="screen-login" class="screen active">
            <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                <h1 class="game-title" style="margin-bottom: 40px;">SURVIVOR<br><span style="color:var(--neon-cyan)">ULTRA</span></h1>
                
                <div class="login-form">
                    <div class="form-group">
                        <label for="login-email"><i class="fas fa-envelope"></i> Ø¦ÛŒÙ…Û•ÛŒÚµ</label>
                        <input type="email" id="login-email" placeholder="example@gmail.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password"><i class="fas fa-lock"></i> ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ</label>
                        <input type="password" id="login-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="Auth.login()">
                        <i class="fas fa-sign-in-alt"></i> Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•
                    </button>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <a href="#" style="color: var(--neon-cyan); text-decoration: none;" onclick="Auth.showRegister()">
                            <i class="fas fa-user-plus"></i> ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†ÙˆÛ
                        </a>
                    </div>
                </div>
                
                <div style="margin-top: 30px; text-align: center; color: rgba(255,255,255,0.5);">
                    <p>Ù†ÙˆÛÚ©Ø§Ø±Û•ÛŒØªØŸ Ø¨Û•Ø¨Û ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù† ØªØ§Ù‚ÛŒ Ø¨Ú©Û•ÙˆÛ•:</p>
                    <button class="btn" onclick="Auth.guestLogin()">
                        <i class="fas fa-user"></i> ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù† Ø¨Û•Ø¨Û ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†
                    </button>
                </div>
            </div>
        </section>

        <!-- Admin Login Screen -->
        <section id="screen-admin-login" class="screen">
            <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                <h1 class="game-title" style="margin-bottom: 40px; color: var(--neon-pink);">
                    ADMIN<br>PANEL
                </h1>
                
                <div class="login-form">
                    <div class="form-group">
                        <label for="admin-email"><i class="fas fa-user-shield"></i> Ø¦ÛŒÙ…Û•ÛŒÚµÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†</label>
                        <input type="email" id="admin-email" placeholder="admin@survivor.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="admin-password"><i class="fas fa-key"></i> ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ</label>
                        <input type="password" id="admin-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    
                    <button class="btn" style="width: 100%; background: var(--grad-fire);" onclick="Admin.login()">
                        <i class="fas fa-lock"></i> Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†
                    </button>
                    
                    <button class="btn" style="width: 100%; margin-top: 10px;" onclick="UI.nav('screen-home')">
                        <i class="fas fa-arrow-right"></i> Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•
                    </button>
                </div>
            </div>
        </section>

        <!-- Home Screen -->
        <section id="screen-home" class="screen">
            <!-- Countdown Display (Visible only before 8 PM) -->
            <div id="countdown-section" style="display: none;">
                <div class="glass-card" style="text-align: center; margin-bottom: 20px;">
                    <h3 style="color: var(--neon-pink); margin-bottom: 10px;"><i class="fas fa-clock"></i> ÛŒØ§Ø±ÛŒ Ø¯Û•Ø³Øª Ù†Ø§Ú©Ø§Øª ØªØ§</h3>
                    <div id="countdown-display">20:00:00</div>
                    <p class="countdown-message">ÛŒØ§Ø±ÛŒ Ù„Û• Ú©Ø§ØªÚ˜Ù…ÛØ± Ù¨ Ø´Û•ÙˆØ§Ù†Û• Ø¯Û•Ø³Øª Ù¾ÛØ¯Û•Ú©Ø§Øª!</p>
                </div>
            </div>

            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-icon" onclick="UI.toggleSettings()"><i class="fas fa-cog"></i></button>
                <div class="level-badge"><i class="fas fa-crown"></i> LVL <span id="home-lvl">1</span></div>
                <div class="level-badge" style="border-color: var(--neon-gold); color: var(--neon-gold);">
                    <i class="fas fa-coins"></i> <span id="home-coins">0</span>
                </div>
            </div>

            <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
                <div id="home-avatar" style="font-size: 5rem; margin-bottom: 20px; animation: floatOrb 6s infinite;">ğŸª</div>
                <h1 class="game-title">SURVIVOR<br><span style="color:var(--neon-cyan)">ULTRA</span></h1>
                <p style="opacity: 0.7; margin-top: 10px;">Ø¨Ø§Ø´ØªØ±ÛŒÙ† ÛŒØ§Ø±ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ú¯Ø´ØªÛŒ</p>
                <p id="welcome-text" style="margin-top: 5px; color: var(--neon-cyan);">Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª!</p>
            </div>

            <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px;">
                <button id="start-game-btn" class="btn btn-primary" onclick="Game.init()">
                    <i class="fas fa-play"></i> Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†
                </button>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <button class="btn" onclick="UI.nav('screen-shop')"><i class="fas fa-store"></i> Ú©Û†Ú¯Ø§</button>
                    <button class="btn" onclick="UI.nav('screen-profile')"><i class="fas fa-user"></i> Ù¾Ú•Û†ÙØ§ÛŒÙ„</button>
                </div>
                <button class="btn" style="background: rgba(255,0,85,0.1); border-color: var(--neon-pink);" onclick="UI.nav('screen-admin-login')">
                    <i class="fas fa-user-shield"></i> Ù¾Û•Ú•Û•ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†
                </button>
            </div>
        </section>

        <!-- Game Screen -->
        <section id="screen-game" class="screen">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <button class="btn btn-icon" onclick="Game.pause()"><i class="fas fa-pause"></i></button>
                <div style="font-family: var(--font-numbers); font-size: 1.4rem; color: var(--neon-cyan);">
                    <span id="game-score">0</span> PTS
                </div>
            </div>

            <div class="timer-container"><div id="timer-bar" class="timer-bar"></div></div>

            <div class="glass-card" style="min-height: 180px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px; text-align: center;">
                <h2 id="question-text" style="font-size: 1.4rem; line-height: 1.6;">Text loads here...</h2>
            </div>

            <div id="answers-grid">
                <!-- Answers will be inserted here -->
            </div>

            <div class="powerup-row">
                <button class="p-item" id="pu-5050" onclick="Game.usePowerup('5050')">
                    <i class="fas fa-ban"></i> <span>50/50</span> <div class="p-badge" id="cost-5050">20</div>
                </button>
                <button class="p-item" id="pu-time" onclick="Game.usePowerup('time')">
                    <i class="fas fa-clock"></i> <span>Time</span> <div class="p-badge" id="cost-time">15</div>
                </button>
                <button class="p-item" id="pu-skip" onclick="Game.usePowerup('skip')">
                    <i class="fas fa-forward"></i> <span>Skip</span> <div class="p-badge" id="cost-skip">30</div>
                </button>
            </div>
        </section>

        <!-- Profile Screen -->
        <section id="screen-profile" class="screen">
            <div class="glass-card" style="text-align: center; margin-bottom: 20px; padding-top: 40px;">
                <button class="btn btn-icon" style="position: absolute; top: 15px; right: 15px;" onclick="UI.nav('screen-home')">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="profile-pic-container" onclick="Profile.uploadPicture()">
                    <div id="profile-avatar">ğŸ‘»</div>
                    <div class="profile-pic-overlay">Ú¯Û†Ú•ÛŒÙ†ÛŒ ÙˆÛÙ†Û•</div>
                </div>
                
                <h2 id="profile-name" style="font-size: 1.8rem;">Survival Player</h2>
                <div class="level-badge" style="margin-top: 10px;">LEVEL <span id="profile-lvl">1</span></div>
                
                <button class="btn" style="margin-top: 15px; padding: 10px;" onclick="Profile.editName()">
                    <i class="fas fa-edit"></i> Ú¯Û†Ú•ÛŒÙ†ÛŒ Ù†Ø§Ùˆ
                </button>
            </div>

            <div class="glass-card">
                <h3 style="margin-bottom: 15px; border-bottom: 1px solid var(--glass-border); padding-bottom: 10px;">Ø¦Ø§Ù…Ø§Ø±Û•Ú©Ø§Ù†</h3>
                
                <div class="stat-row"><span>XP Ø¨Û† Ø¦Ø§Ø³ØªÛŒ Ø¯Ø§Ù‡Ø§ØªÙˆÙˆ</span> <span id="xp-text">0/500</span></div>
                <div class="progress-bg" style="margin-bottom: 15px;"><div id="xp-bar" class="progress-fill"></div></div>

                <div class="stat-row"><span>Ø¨Û•Ø±Ø²ØªØ±ÛŒÙ† Ø®Ø§Úµ (High Score)</span> <span id="profile-highscore" style="color: var(--neon-cyan)">0</span></div>
                <div class="stat-row"><span>Ú©Û†ÛŒ ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†</span> <span id="profile-games">0</span></div>
                <div class="stat-row"><span>ØªÛ†Ú©Ù†Û•Ú©Ø§Ù†</span> <span id="profile-coins" style="color: var(--neon-gold)">0</span></div>
            </div>
        </section>

        <!-- Shop Screen -->
        <section id="screen-shop" class="screen">
            <div class="glass-card" style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-icon" onclick="UI.nav('screen-home')"><i class="fas fa-arrow-right"></i></button>
                <h2 style="font-size: 1.5rem;">Ú©Û†Ú¯Ø§</h2>
                <div class="level-badge" style="color: var(--neon-gold); border-color: var(--neon-gold);">
                    <span id="shop-coins">0</span> <i class="fas fa-coins"></i>
                </div>
            </div>

            <div id="shop-items" class="shop-grid">
                <!-- Shop items will be loaded from Firebase -->
            </div>
        </section>

        <!-- Admin Panel -->
        <section id="screen-admin" class="screen">
            <div class="glass-card" style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-icon" onclick="UI.nav('screen-home')"><i class="fas fa-arrow-right"></i></button>
                <h2 style="font-size: 1.5rem; color: var(--neon-pink);"><i class="fas fa-user-shield"></i> Ù¾Û•Ú•Û•ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†</h2>
                <button class="btn btn-icon" onclick="Admin.logout()"><i class="fas fa-sign-out-alt"></i></button>
            </div>

            <div style="overflow-y: auto; padding-bottom: 20px;">
                <!-- Question Management -->
                <div class="glass-card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 15px;"><i class="fas fa-question-circle"></i> Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù†</h3>
                    <div class="admin-grid">
                        <div class="admin-card" onclick="Admin.showAddQuestion()">
                            <i class="fas fa-plus" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <h4>Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±</h4>
                        </div>
                        <div class="admin-card" onclick="Admin.showQuestionsList()">
                            <i class="fas fa-list" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <h4>Ø¨ÛŒÙ†ÛŒÙ†ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù†</h4>
                        </div>
                    </div>
                </div>

                <!-- Shop Management -->
                <div class="glass-card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 15px;"><i class="fas fa-store"></i> Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú©Û†Ú¯Ø§</h3>
                    <div class="admin-grid">
                        <div class="admin-card" onclick="Admin.showAddShopItem()">
                            <i class="fas fa-plus" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <h4>Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§</h4>
                        </div>
                        <div class="admin-card" onclick="Admin.showShopItems()">
                            <i class="fas fa-edit" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <h4>Ø¯Û•Ø³ØªÚ©Ø§Ø±ÛŒ Ú©Ø§ÚµØ§Ú©Ø§Ù†</h4>
                        </div>
                    </div>
                </div>

                <!-- Ad Management -->
                <div class="glass-card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 15px;"><i class="fas fa-video"></i> Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù…</h3>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <input type="file" id="ad-video-upload" accept="video/*" style="display: none;" onchange="Admin.uploadAd(this.files[0])">
                        <button class="btn" onclick="document.getElementById('ad-video-upload').click()">
                            <i class="fas fa-upload"></i> Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù…
                        </button>
                        <button class="btn" onclick="Admin.testAd()">
                            <i class="fas fa-play"></i> ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù…
                        </button>
                    </div>
                </div>

                <!-- Game Settings -->
                <div class="glass-card">
                    <h3 style="margin-bottom: 15px;"><i class="fas fa-sliders-h"></i> Ú•ÛÚ©Ø®Ø³ØªÙ†Û•Ú©Ø§Ù†ÛŒ ÛŒØ§Ø±ÛŒ</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Ú©Ø§ØªÚ˜Ù…ÛØ±ÛŒ Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ ÛŒØ§Ø±ÛŒ:</span>
                            <input type="time" id="game-start-time" value="20:00" style="background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); color: white; padding: 8px; border-radius: 8px;">
                        </div>
                        <button class="btn btn-primary" onclick="Admin.saveSettings()">
                            <i class="fas fa-save"></i> Ù¾Ø§Ø´Û•Ú©Û•ÙˆØªÚ©Ø±Ø¯Ù†
                        </button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Result Modal -->
    <div id="modal-result" class="modal-overlay">
        <div class="glass-card modal-content">
            <div id="res-icon" style="font-size: 5rem; margin-bottom: 10px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.5));">ğŸ†</div>
            <h2 id="res-title" style="font-size: 2rem; margin-bottom: 5px;">Ø³Û•Ø±Ú©Û•ÙˆØªÙ†!</h2>
            <p style="opacity: 0.7;">Ú©Û†ÛŒ Ø®Ø§ÚµÛ•Ú©Ø§Ù†Øª</p>
            
            <div class="score-big" id="res-score">0</div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0;">
                <div class="glass-card" style="padding: 10px;">
                    <div style="color: var(--neon-gold); font-size: 1.2rem;"><i class="fas fa-coins"></i></div>
                    <div style="font-family: var(--font-numbers); font-weight: bold;" id="res-coins">+0</div>
                </div>
                <div class="glass-card" style="padding: 10px;">
                    <div style="color: var(--neon-cyan); font-size: 1.2rem;"><i class="fas fa-bolt"></i></div>
                    <div style="font-family: var(--font-numbers); font-weight: bold;" id="res-xp">+0 XP</div>
                </div>
            </div>

            <div style="display: flex; gap: 10px;">
                <button class="btn" style="flex: 1;" onclick="UI.nav('screen-home'); UI.closeModal()"><i class="fas fa-home"></i></button>
                <button class="btn btn-primary" style="flex: 2;" onclick="Game.init(); UI.closeModal()"><i class="fas fa-redo"></i> Ø¯ÙˆÙˆØ¨Ø§Ø±Û•</button>
            </div>
        </div>
    </div>

    <!-- Admin Modals -->
    <div id="modal-add-question" class="modal-overlay">
        <div class="glass-card modal-content" style="max-width: 500px;">
            <h2 style="margin-bottom: 20px;"><i class="fas fa-plus"></i> Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ù†ÙˆÛ</h2>
            
            <div class="form-group">
                <label>Ù¾Ø±Ø³ÛŒØ§Ø±</label>
                <textarea id="new-question" rows="3" style="width: 100%; padding: 15px; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); border-radius: 12px; color: white;"></textarea>
            </div>
            
            <div class="form-group">
                <label>ÙˆÛ•ÚµØ§Ù…Û•Ú©Ø§Ù†</label>
                <input type="text" id="new-answer1" placeholder="ÙˆÛ•ÚµØ§Ù…ÛŒ Ù¡ (ÙˆÛ•ÚµØ§Ù…ÛŒ Ú•Ø§Ø³Øª)" style="margin-bottom: 10px;">
                <input type="text" id="new-answer2" placeholder="ÙˆÛ•ÚµØ§Ù…ÛŒ Ù¢" style="margin-bottom: 10px;">
                <input type="text" id="new-answer3" placeholder="ÙˆÛ•ÚµØ§Ù…ÛŒ Ù£" style="margin-bottom: 10px;">
                <input type="text" id="new-answer4" placeholder="ÙˆÛ•ÚµØ§Ù…ÛŒ Ù¤">
            </div>
            
            <div class="form-group">
                <label>Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•ÚµØ§Ù…ÛŒ Ú•Ø§Ø³Øª (Ù¡-Ù¤)</label>
                <input type="number" id="new-correct" min="1" max="4" value="1">
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn" style="flex: 1;" onclick="UI.closeModal()"><i class="fas fa-times"></i> Ù‡Û•ÚµÙˆÛ•Ø´Ø§Ù†Ø¯Ù†Û•ÙˆÛ•</button>
                <button class="btn btn-primary" style="flex: 1;" onclick="Admin.addQuestion()"><i class="fas fa-save"></i> Ù¾Ø§Ø´Û•Ú©Û•ÙˆØªÚ©Ø±Ø¯Ù†</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * ==========================================
         * FIREBASE CONFIGURATION
         * ==========================================
         */
        
        // ğŸ”¥ REPLACE WITH YOUR FIREBASE CONFIG
        const firebaseConfig = {
            apiKey: "AIzaSyYourAPIKeyHere",
            authDomain: "your-project-id.firebaseapp.com",
            projectId: "your-project-id",
            storageBucket: "your-project-id.appspot.com",
            messagingSenderId: "your-messaging-sender-id",
            appId: "your-app-id"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();

        /**
         * ==========================================
         * 1. AUTHENTICATION SYSTEM
         * ==========================================
         */
        const Auth = {
            currentUser: null,
            
            async login() {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                if (!email || !password) {
                    alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•ÙˆÛ•");
                    return;
                }
                
                try {
                    const userCredential = await auth.signInWithEmailAndPassword(email, password);
                    this.currentUser = userCredential.user;
                    await User.load(this.currentUser.uid);
                    UI.nav('screen-home');
                    document.getElementById('welcome-text').innerText = `Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª ${User.state.displayName || 'ÛŒØ§Ø±ÛŒØ²Ø§Ù†'}!`;
                } catch (error) {
                    alert(`Ù‡Û•ÚµÛ•: ${error.message}`);
                }
            },
            
            async register() {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                if (!email || !password) {
                    alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•ÙˆÛ•");
                    return;
                }
                
                try {
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    this.currentUser = userCredential.user;
                    
                    // Create user profile
                    await db.collection('users').doc(this.currentUser.uid).set({
                        email: email,
                        displayName: email.split('@')[0],
                        coins: 100,
                        level: 1,
                        xp: 0,
                        highScore: 0,
                        gamesPlayed: 0,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        profilePic: null
                    });
                    
                    await User.load(this.currentUser.uid);
                    UI.nav('screen-home');
                    document.getElementById('welcome-text').innerText = `Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª ${User.state.displayName}!`;
                } catch (error) {
                    alert(`Ù‡Û•ÚµÛ•: ${error.message}`);
                }
            },
            
            async guestLogin() {
                // Create anonymous user
                try {
                    const userCredential = await auth.signInAnonymously();
                    this.currentUser = userCredential.user;
                    
                    // Create guest profile
                    await db.collection('users').doc(this.currentUser.uid).set({
                        email: null,
                        displayName: 'Ù…ÛŒÙˆØ§Ù†',
                        coins: 50,
                        level: 1,
                        xp: 0,
                        highScore: 0,
                        gamesPlayed: 0,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        profilePic: null,
                        isGuest: true
                    });
                    
                    await User.load(this.currentUser.uid);
                    UI.nav('screen-home');
                    document.getElementById('welcome-text').innerText = `Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ù…ÛŒÙˆØ§Ù†!`;
                } catch (error) {
                    alert(`Ù‡Û•ÚµÛ•: ${error.message}`);
                }
            },
            
            showRegister() {
                document.getElementById('login-email').value = '';
                document.getElementById('login-password').value = '';
                alert("ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†ÙˆÛ: Ø¦ÛŒÙ…Û•ÛŒÚµ Ùˆ ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒØª Ø¨Ù†ÙˆÙˆØ³Û• Ùˆ Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ú©Ù„ÛŒÚ© Ø¨Ú©Û• Ø¨Û† ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†");
                // In full version, we would show separate register form
            },
            
            logout() {
                auth.signOut();
                UI.nav('screen-login');
            }
        };

        /**
         * ==========================================
         * 2. USER PROFILE SYSTEM
         * ==========================================
         */
        const User = {
            state: {
                uid: null,
                email: null,
                displayName: 'ÛŒØ§Ø±ÛŒØ²Ø§Ù†',
                coins: 0,
                level: 1,
                xp: 0,
                highScore: 0,
                gamesPlayed: 0,
                profilePic: null,
                inventory: ['neon'],
                currentTheme: 'neon'
            },
            
            async load(uid) {
                if (!uid) return;
                
                const doc = await db.collection('users').doc(uid).get();
                if (doc.exists) {
                    this.state = { ...this.state, ...doc.data(), uid: uid };
                }
                
                this.applyTheme(this.state.currentTheme);
                this.updateUI();
            },
            
            async save() {
                if (!this.state.uid) return;
                
                const { uid, ...data } = this.state;
                await db.collection('users').doc(uid).set(data, { merge: true });
                this.updateUI();
            },
            
            addCoins(amount) {
                this.state.coins += amount;
                // Animate coin counter
                const el = document.getElementById('home-coins');
                el.style.transform = "scale(1.5)";
                setTimeout(() => el.style.transform = "scale(1)", 200);
                this.save();
            },
            
            addXP(amount) {
                this.state.xp += amount;
                const reqXP = this.state.level * 500;
                
                if (this.state.xp >= reqXP) {
                    this.state.level++;
                    this.state.xp = this.state.xp - reqXP;
                    AudioSys.play('win');
                    alert(`ğŸ‰ Ù¾ÛŒØ±Û†Ø²Û•! Ú¯Û•ÛŒØ´ØªÛŒØªÛ• Ø¦Ø§Ø³ØªÛŒ ${this.state.level}`);
                }
                this.save();
            },
            
            updateUI() {
                // Home Screen
                document.getElementById('home-coins').innerText = this.state.coins;
                document.getElementById('home-lvl').innerText = this.state.level;
                document.getElementById('welcome-text').innerText = `Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª ${this.state.displayName}!`;
                
                // Shop Screen
                document.getElementById('shop-coins').innerText = this.state.coins;
                
                // Profile Screen
                document.getElementById('profile-name').innerText = this.state.displayName;
                document.getElementById('profile-lvl').innerText = this.state.level;
                document.getElementById('profile-highscore').innerText = this.state.highScore;
                document.getElementById('profile-games').innerText = this.state.gamesPlayed;
                document.getElementById('profile-coins').innerText = this.state.coins;
                
                // XP Bar
                const reqXP = this.state.level * 500;
                const pct = (this.state.xp / reqXP) * 100;
                document.getElementById('xp-bar').style.width = `${pct}%`;
                document.getElementById('xp-text').innerText = `${this.state.xp} / ${reqXP}`;
                
                // Update avatar
                const avatar = document.getElementById('home-avatar');
                const profileAvatar = document.getElementById('profile-avatar');
                if (this.state.profilePic) {
                    avatar.innerHTML = `<img src="${this.state.profilePic}" style="width: 80px; height: 80px; border-radius: 50%;">`;
                    profileAvatar.innerHTML = `<img src="${this.state.profilePic}" style="width: 100%; height: 100%; border-radius: 50%;">`;
                } else {
                    // Default avatars based on level
                    const avatars = ['ğŸª', 'ğŸš€', 'ğŸ‘¨â€ğŸš€', 'ğŸ›¸', 'ğŸŒ ', 'âš¡', 'ğŸ”¥', 'ğŸ’«'];
                    const avatarIndex = Math.min(this.state.level - 1, avatars.length - 1);
                    avatar.innerText = avatars[avatarIndex];
                    profileAvatar.innerText = avatars[avatarIndex];
                }
            },
            
            applyTheme(themeName) {
                const root = document.documentElement;
                const themes = {
                    neon: {
                        cyan: '#00f3ff',
                        purple: '#bc13fe',
                        gradient: 'linear-gradient(135deg, #bc13fe, #00f3ff)'
                    },
                    gold: {
                        cyan: '#ffd700',
                        purple: '#ffaa00',
                        gradient: 'linear-gradient(135deg, #ffd700, #ffaa00)'
                    },
                    fire: {
                        cyan: '#ff4d00',
                        purple: '#ff0000',
                        gradient: 'linear-gradient(135deg, #ff4d00, #ff0000)'
                    },
                    matrix: {
                        cyan: '#00ff00',
                        purple: '#003300',
                        gradient: 'linear-gradient(135deg, #00ff00, #004400)'
                    }
                };
                
                if (themes[themeName]) {
                    root.style.setProperty('--neon-cyan', themes[themeName].cyan);
                    root.style.setProperty('--neon-purple', themes[themeName].purple);
                    root.style.setProperty('--grad-main', themes[themeName].gradient);
                    this.state.currentTheme = themeName;
                }
            }
        };

        /**
         * ==========================================
         * 3. PROFILE MANAGEMENT
         * ==========================================
         */
        const Profile = {
            async uploadPicture() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                
                input.onchange = async (e) => {
                    const file = e.target.files[0];
                    if (!file) return;
                    
                    try {
                        // Upload to Firebase Storage
                        const storageRef = storage.ref();
                        const fileRef = storageRef.child(`profile_pictures/${User.state.uid}/${Date.now()}_${file.name}`);
                        await fileRef.put(file);
                        
                        // Get download URL
                        const downloadURL = await fileRef.getDownloadURL();
                        
                        // Update user profile
                        User.state.profilePic = downloadURL;
                        await User.save();
                        
                        alert("ÙˆÛÙ†Û•Ú©Û•Øª Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§!");
                    } catch (error) {
                        alert(`Ù‡Û•ÚµÛ• Ù„Û• Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•: ${error.message}`);
                    }
                };
                
                input.click();
            },
            
            editName() {
                const newName = prompt("Ù†Ø§ÙˆÛŒ Ù†ÙˆÛØª Ø¨Ù†ÙˆÙˆØ³Û•:", User.state.displayName);
                if (newName && newName.trim() !== '') {
                    User.state.displayName = newName.trim();
                    User.save();
                }
            }
        };

        /**
         * ==========================================
         * 4. ADMIN SYSTEM
         * ==========================================
         */
        const Admin = {
            isAdmin: false,
            
            async login() {
                const email = document.getElementById('admin-email').value;
                const password = document.getElementById('admin-password').value;
                
                // Hardcoded admin credentials (for demo)
                // In production, use Firebase Admin SDK or custom claims
                if (email === "admin@survivor.com" && password === "admin123") {
                    this.isAdmin = true;
                    
                    // Load admin data
                    await this.loadQuestions();
                    await this.loadShopItems();
                    
                    UI.nav('screen-admin');
                    alert("Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û• Ù¾Û•Ú•Û•ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†!");
                } else {
                    alert("Ù‡Û•ÚµÛ•: Ø¦ÛŒÙ…Û•ÛŒÚµ ÛŒØ§Ù† ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ù‡Û•ÚµÛ•ÛŒÛ•");
                }
            },
            
            logout() {
                this.isAdmin = false;
                UI.nav('screen-home');
            },
            
            async loadQuestions() {
                // Load questions from Firebase
                const snapshot = await db.collection('questions').orderBy('createdAt', 'desc').limit(50).get();
                Game.questionsDB = [];
                
                snapshot.forEach(doc => {
                    const data = doc.data();
                    Game.questionsDB.push({
                        id: doc.id,
                        q: data.question,
                        a: [data.answer1, data.answer2, data.answer3, data.answer4],
                        c: data.correctAnswer - 1 // Convert to 0-indexed
                    });
                });
                
                console.log(`Loaded ${Game.questionsDB.length} questions from Firebase`);
            },
            
            async loadShopItems() {
                const snapshot = await db.collection('shop_items').orderBy('price').get();
                const shopGrid = document.getElementById('shop-items');
                shopGrid.innerHTML = '';
                
                snapshot.forEach(doc => {
                    const item = doc.data();
                    const div = document.createElement('div');
                    div.className = 'shop-item';
                    div.innerHTML = `
                        <div style="font-size: 2rem; margin-bottom: 10px;">${item.emoji || 'ğŸ'}</div>
                        <h4>${item.name}</h4>
                        <p style="font-size: 0.8rem; opacity: 0.6;">${item.description || ''}</p>
                        <button class="btn" onclick="Shop.buy('${doc.id}', ${item.price})" style="padding: 5px 15px; font-size: 0.8rem; width: 100%; margin-top: 5px;">
                            ${item.price} <i class="fas fa-coins"></i>
                        </button>
                    `;
                    shopGrid.appendChild(div);
                });
            },
            
            showAddQuestion() {
                document.getElementById('modal-add-question').classList.add('open');
            },
            
            async addQuestion() {
                const question = document.getElementById('new-question').value;
                const answer1 = document.getElementById('new-answer1').value;
                const answer2 = document.getElementById('new-answer2').value;
                const answer3 = document.getElementById('new-answer3').value;
                const answer4 = document.getElementById('new-answer4').value;
                const correct = parseInt(document.getElementById('new-correct').value);
                
                if (!question || !answer1 || !answer2 || !answer3 || !answer4) {
                    alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•ÙˆÛ•");
                    return;
                }
                
                try {
                    await db.collection('questions').add({
                        question: question,
                        answer1: answer1,
                        answer2: answer2,
                        answer3: answer3,
                        answer4: answer4,
                        correctAnswer: correct,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        addedBy: User.state.uid
                    });
                    
                    alert("Ù¾Ø±Ø³ÛŒØ§Ø± Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ø²ÛŒØ§Ø¯Ú©Ø±Ø§!");
                    UI.closeModal();
                    this.loadQuestions();
                } catch (error) {
                    alert(`Ù‡Û•ÚµÛ•: ${error.message}`);
                }
            },
            
            showAddShopItem() {
                // Implementation for adding shop items
                const name = prompt("Ù†Ø§ÙˆÛŒ Ú©Ø§ÚµØ§:");
                const price = prompt("Ù†Ø±Ø® (ØªÛ†Ú©Ù†):");
                const emoji = prompt("Ø¦ÛÙ…Û†Ø¬ÛŒ:");
                const description = prompt("Ø´Ú•Û†Ú¤Û•:");
                
                if (name && price && emoji) {
                    db.collection('shop_items').add({
                        name: name,
                        price: parseInt(price),
                        emoji: emoji,
                        description: description,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    }).then(() => {
                        alert("Ú©Ø§ÚµØ§ Ø²ÛŒØ§Ø¯Ú©Ø±Ø§!");
                        this.loadShopItems();
                    });
                }
            },
            
            async uploadAd(file) {
                if (!file) return;
                
                try {
                    const storageRef = storage.ref();
                    const adRef = storageRef.child(`ads/main_ad_${Date.now()}`);
                    await adRef.put(file);
                    
                    const downloadURL = await adRef.getDownloadURL();
                    
                    // Save ad URL to Firestore
                    await db.collection('settings').doc('ads').set({
                        mainAd: downloadURL,
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    }, { merge: true });
                    
                    alert("Ú•ÛŒÚ©Ù„Ø§Ù…Û•Ú©Û• Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§!");
                } catch (error) {
                    alert(`Ù‡Û•ÚµÛ• Ù„Û• Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù…: ${error.message}`);
                }
            },
            
            async testAd() {
                const doc = await db.collection('settings').doc('ads').get();
                if (doc.exists && doc.data().mainAd) {
                    showAd(doc.data().mainAd);
                } else {
                    alert("Ù‡ÛŒÚ† Ú•ÛŒÚ©Ù„Ø§Ù…ÛÚ© Ø¨Ø§Ø± Ù†Û•Ú©Ø±Ø§ÙˆÛ•!");
                }
            },
            
            async saveSettings() {
                const gameTime = document.getElementById('game-start-time').value;
                
                await db.collection('settings').doc('game').set({
                    startTime: gameTime,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                }, { merge: true });
                
                alert("Ú•ÛÚ©Ø®Ø³ØªÙ†Û•Ú©Ø§Ù† Ù¾Ø§Ø´Û•Ú©Û•ÙˆØªÚ©Ø±Ø§Ù†!");
            }
        };

        /**
         * ==========================================
         * 5. GAME COUNTDOWN SYSTEM
         * ==========================================
         */
        const Countdown = {
            gameStartTime: "20:00", // 8 PM
            countdownInterval: null,
            
            async init() {
                // Load game time from Firebase
                try {
                    const doc = await db.collection('settings').doc('game').get();
                    if (doc.exists && doc.data().startTime) {
                        this.gameStartTime = doc.data().startTime;
                    }
                    document.getElementById('game-start-time').value = this.gameStartTime;
                } catch (error) {
                    console.log("Using default game time");
                }
                
                this.updateCountdown();
                this.countdownInterval = setInterval(() => this.updateCountdown(), 1000);
            },
            
            updateCountdown() {
                const now = new Date();
                const [targetHour, targetMinute] = this.gameStartTime.split(':').map(Number);
                
                let targetTime = new Date();
                targetTime.setHours(targetHour, targetMinute, 0, 0);
                
                // If target time has passed today, set for tomorrow
                if (now > targetTime) {
                    targetTime.setDate(targetTime.getDate() + 1);
                }
                
                const diffMs = targetTime - now;
                const diffSec = Math.floor(diffMs / 1000);
                
                // Check if game should be available
                const gameAvailable = diffSec <= 0;
                
                // Update UI
                const countdownSection = document.getElementById('countdown-section');
                const startButton = document.getElementById('start-game-btn');
                
                if (gameAvailable) {
                    countdownSection.style.display = 'none';
                    startButton.disabled = false;
                    startButton.innerHTML = '<i class="fas fa-play"></i> Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†';
                } else {
                    countdownSection.style.display = 'block';
                    startButton.disabled = true;
                    startButton.innerHTML = '<i class="fas fa-clock"></i> Ú†Ø§ÙˆÛ•Ú•ÙˆØ§Ù† Ø¨Ú©Û•...';
                    
                    // Calculate hours, minutes, seconds
                    const hours = Math.floor(diffSec / 3600);
                    const minutes = Math.floor((diffSec % 3600) / 60);
                    const seconds = diffSec % 60;
                    
                    // Format as HH:MM:SS
                    const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    document.getElementById('countdown-display').innerText = timeString;
                    
                    // Show ad 1 minute before game starts
                    if (diffSec === 60) {
                        this.showAdBeforeGame();
                    }
                }
            },
            
            async showAdBeforeGame() {
                try {
                    const doc = await db.collection('settings').doc('ads').get();
                    if (doc.exists && doc.data().mainAd) {
                        showAd(doc.data().mainAd);
                    }
                } catch (error) {
                    console.log("No ad to show");
                }
            }
        };

        /**
         * ==========================================
         * 6. SHOP SYSTEM
         * ==========================================
         */
        const Shop = {
            async buy(itemId, cost) {
                if (User.state.coins < cost) {
                    alert("Ù¾Ø§Ø±Û•ÛŒ Ù¾ÛÙˆÛŒØ³ØªØª Ù†ÛŒÛŒÛ•!");
                    return;
                }
                
                if (confirm(`Ø¯Û•ØªÛ•ÙˆÛØª Ø¦Û•Ù… Ú©Ø§ÚµØ§ÛŒÛ• Ø¨Ú©Ú•ÛŒØª Ø¨Û• ${cost} ØªÛ†Ú©Ù†ØŸ`)) {
                    // Deduct coins
                    User.addCoins(-cost);
                    
                    // Add to inventory
                    if (!User.state.inventory.includes(itemId)) {
                        User.state.inventory.push(itemId);
                        User.save();
                    }
                    
                    alert("Ù¾ÛŒØ±Û†Ø²Û•! Ú©Ø§ÚµØ§Ú©Û• Ú©Ú•Ø¯Ø±Ø§!");
                }
            }
        };

        /**
         * ==========================================
         * 7. AD SYSTEM
         * ==========================================
         */
        function showAd(videoUrl) {
            const adContainer = document.getElementById('ad-container');
            const adVideo = document.getElementById('ad-video');
            const skipBtn = document.querySelector('.skip-ad');
            
            adVideo.src = videoUrl;
            adContainer.style.display = 'flex';
            
            // Auto-skip after 5 seconds
            let skipTimer = 5;
            skipBtn.textContent = `ØªÛÙ¾Û•Ú•Ø§Ù†Ø¯Ù†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù… (${skipTimer}s)`;
            
            const skipInterval = setInterval(() => {
                skipTimer--;
                skipBtn.textContent = `ØªÛÙ¾Û•Ú•Ø§Ù†Ø¯Ù†ÛŒ Ú•ÛŒÚ©Ù„Ø§Ù… (${skipTimer}s)`;
                
                if (skipTimer <= 0) {
                    clearInterval(skipInterval);
                    hideAd();
                }
            }, 1000);
        }
        
        function hideAd() {
            document.getElementById('ad-container').style.display = 'none';
            document.getElementById('ad-video').pause();
        }

        /**
         * ==========================================
         * 8. GAME LOGIC (Updated for Firebase)
         * ==========================================
         */
        const Game = {
            data: {
                score: 0,
                qIndex: 0,
                questions: [],
                timer: null,
                isPaused: false,
                activePowerups: []
            },
            
            questionsDB: [], // Will be loaded from Firebase
            
            async init() {
                // Check if game is available
                const now = new Date();
                const [targetHour, targetMinute] = Countdown.gameStartTime.split(':').map(Number);
                let targetTime = new Date();
                targetTime.setHours(targetHour, targetMinute, 0, 0);
                
                if (now < targetTime) {
                    alert(`ÛŒØ§Ø±ÛŒ ØªÛ•Ù†Ù‡Ø§ Ù„Û• Ú©Ø§ØªÚ˜Ù…ÛØ± ${Countdown.gameStartTime} Ø¯Û•Ø³Øª Ù¾ÛØ¯Û•Ú©Ø§Øª!`);
                    return;
                }
                
                UI.nav('screen-game');
                this.data.score = 0;
                this.data.qIndex = 0;
                this.data.activePowerups = [];
                
                // Use questions from Firebase or fallback to local
                if (this.questionsDB.length > 0) {
                    this.data.questions = [...this.questionsDB].sort(() => 0.5 - Math.random()).slice(0, 10);
                } else {
                    // Fallback to local questions
                    this.data.questions = [...localDB].sort(() => 0.5 - Math.random()).slice(0, 10);
                }
                
                document.querySelectorAll('.p-item').forEach(b => b.classList.remove('disabled'));
                this.nextQuestion();
            },
            
            nextQuestion() {
                if (this.data.qIndex >= this.data.questions.length) {
                    this.gameOver(true);
                    return;
                }

                const q = this.data.questions[this.data.qIndex];
                
                document.getElementById('game-score').innerText = this.data.score;
                document.getElementById('question-text').innerText = q.q;
                
                const grid = document.getElementById('answers-grid');
                grid.innerHTML = '';
                
                q.a.forEach((ansText, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'btn btn-game';
                    btn.innerHTML = `<span>${ansText}</span> <i class="far fa-circle"></i>`;
                    btn.onclick = () => this.checkAnswer(i, btn);
                    grid.appendChild(btn);
                });

                this.startTimer();
            },
            
            startTimer() {
                clearTimeout(this.data.timer);
                const bar = document.getElementById('timer-bar');
                
                bar.style.transition = 'none';
                bar.style.width = '100%';
                void bar.offsetWidth;
                bar.style.transition = 'width 15s linear';
                bar.style.width = '0%';

                this.data.timer = setTimeout(() => {
                    this.checkAnswer(-1, null);
                }, 15000);
            },
            
            checkAnswer(selectedIndex, btnElement) {
                clearTimeout(this.data.timer);
                const buttons = document.querySelectorAll('.btn-game');
                buttons.forEach(b => b.disabled = true);

                const correctIndex = this.data.questions[this.data.qIndex].c;
                const isCorrect = (selectedIndex === correctIndex);

                if (isCorrect) {
                    AudioSys.play('correct');
                    btnElement.classList.add('correct');
                    btnElement.querySelector('i').className = 'fas fa-check-circle';
                    
                    const timeBonus = parseInt(document.getElementById('timer-bar').offsetWidth / 2);
                    this.data.score += (100 + timeBonus);
                } else {
                    AudioSys.play('wrong');
                    if (btnElement) {
                        btnElement.classList.add('wrong');
                        btnElement.querySelector('i').className = 'fas fa-times-circle';
                    }
                    buttons[correctIndex].classList.add('correct');
                    buttons[correctIndex].querySelector('i').className = 'fas fa-check-circle';
                }

                setTimeout(() => {
                    this.data.qIndex++;
                    this.nextQuestion();
                }, 1500);
            },
            
            usePowerup(type) {
                const btn = document.getElementById(`pu-${type}`);
                if (btn.classList.contains('disabled')) return;

                const costs = { '5050': 20, 'time': 15, 'skip': 30 };
                const cost = costs[type];

                if (User.state.coins < cost) {
                    alert("Ù¾Ø§Ø±Û•ÛŒ Ù¾ÛÙˆÛŒØ³ØªØª Ù†ÛŒÛŒÛ•!");
                    return;
                }

                User.addCoins(-cost);
                btn.classList.add('disabled');
                AudioSys.play('click');

                if (type === '5050') {
                    const correct = this.data.questions[this.data.qIndex].c;
                    const buttons = document.querySelectorAll('.btn-game');
                    let removed = 0;
                    buttons.forEach((b, i) => {
                        if (i !== correct && removed < 2) {
                            b.style.visibility = 'hidden';
                            removed++;
                        }
                    });
                } 
                else if (type === 'time') {
                    this.startTimer();
                } 
                else if (type === 'skip') {
                    clearTimeout(this.data.timer);
                    this.data.qIndex++;
                    this.nextQuestion();
                }
            },
            
            pause() {
                alert("ÛŒØ§Ø±ÛŒ ÙˆÛ•Ø³ØªØ§. Ú©Ù„ÛŒÚ© Ø¨Ú©Û• Ø¨Û† Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù…Ø¨ÙˆÙˆÙ†.");
            },
            
            gameOver(completed) {
                const modal = document.getElementById('modal-result');
                const title = document.getElementById('res-title');
                
                if (completed) {
                    title.innerText = "Ø³Û•Ø±Ú©Û•ÙˆØªÙ†!";
                    AudioSys.play('win');
                } else {
                    title.innerText = "ÛŒØ§Ø±ÛŒ ØªÛ•ÙˆØ§Ùˆ!";
                    AudioSys.play('wrong');
                }

                // Calculate Rewards
                const coinsEarned = Math.floor(this.data.score / 10);
                const xpEarned = Math.floor(this.data.score / 2);

                document.getElementById('res-score').innerText = this.data.score;
                document.getElementById('res-coins').innerText = "+" + coinsEarned;
                document.getElementById('res-xp').innerText = "+" + xpEarned + " XP";

                // Update User Data
                if (this.data.score > User.state.highScore) {
                    User.state.highScore = this.data.score;
                }
                User.state.gamesPlayed++;
                User.addCoins(coinsEarned);
                User.addXP(xpEarned);

                modal.classList.add('open');
            }
        };

        /**
         * ==========================================
         * 9. UI CONTROLLER
         * ==========================================
         */
        const UI = {
            nav(screenId) {
                AudioSys.play('click');
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.getElementById(screenId).classList.add('active');
            },

            toggleSettings() {
                alert("âš™ï¸ Ú•ÛÚ©Ø®Ø³ØªÙ†Û•Ú©Ø§Ù†:\n- Ø¯Û•Ù†Ú¯: Ú†Ø§Ù„Ø§Ú©Û•\n- ÙˆÛ•Ø´Ø§Ù†: 2.0 Super Ultra\n- Firebase: Ú†Ø§Ù„Ø§Ú©Û•");
            },

            closeModal() {
                document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('open'));
            }
        };

        /**
         * ==========================================
         * 10. AUDIO SYSTEM
         * ==========================================
         */
        const AudioSys = {
            ctx: null,
            init() {
                if (!this.ctx) this.ctx = new (window.AudioContext || window.webkitAudioContext)();
            },
            play(type) {
                if (!this.ctx) this.init();
                if (this.ctx.state === 'suspended') this.ctx.resume();

                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.connect(gain);
                gain.connect(this.ctx.destination);

                const now = this.ctx.currentTime;

                if (type === 'click') {
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(800, now);
                    osc.frequency.exponentialRampToValueAtTime(300, now + 0.1);
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                    osc.start(now); osc.stop(now + 0.1);
                } 
                else if (type === 'correct') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(600, now);
                    osc.frequency.linearRampToValueAtTime(1200, now + 0.1);
                    gain.gain.setValueAtTime(0, now);
                    gain.gain.linearRampToValueAtTime(0.2, now + 0.05);
                    gain.gain.exponentialRampToValueAtTime(0.01, now + 0.4);
                    osc.start(now); osc.stop(now + 0.4);
                } 
                else if (type === 'wrong') {
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(150, now);
                    osc.frequency.linearRampToValueAtTime(100, now + 0.3);
                    gain.gain.setValueAtTime(0.2, now);
                    gain.gain.linearRampToValueAtTime(0, now + 0.3);
                    osc.start(now); osc.stop(now + 0.3);
                }
                else if (type === 'win') {
                    osc.type = 'square';
                    osc.frequency.setValueAtTime(440, now);
                    osc.frequency.setValueAtTime(554, now + 0.1);
                    osc.frequency.setValueAtTime(659, now + 0.2);
                    gain.gain.exponentialRampToValueAtTime(0.01, now + 0.6);
                    osc.start(now); osc.stop(now + 0.6);
                }
            }
        };

        /**
         * ==========================================
         * 11. LOCAL QUESTION DATABASE (Fallback)
         * ==========================================
         */
        const localDB = [
            { q: "Ù¾Ø§ÛŒØªÛ•Ø®ØªÛŒ ÙˆÚµØ§ØªÛŒ Ú˜Ø§Ù¾Û†Ù† Ú©ÙˆÛÛŒÛ•ØŸ", a: ["ØªÛ†Ú©ÛŒÛ†", "Ø¦Û†Ø³Ø§Ú©Ø§", "Ú©ÛŒÛ†ØªÛ†", "Ø³ÛŒÛ†Ù„"], c: 0 },
            { q: "Ø®ÛØ±Ø§ÛŒÛŒ Ú•ÙˆÙˆÙ†Ø§Ú©ÛŒ Ú†Û•Ù†Ø¯Û• Ù„Û• Ú†Ø±Ú©Û•ÛŒÛ•Ú©Ø¯Ø§ØŸ", a: ["Ù£Ù Ù  Ù‡Û•Ø²Ø§Ø± Ú©Ù…", "Ù¡Ù¥Ù  Ù‡Û•Ø²Ø§Ø± Ú©Ù…", "Ù¡ Ù…Ù„ÛŒÛ†Ù† Ú©Ù…", "Ù£Ù¤Ù  Ù…Û•ØªÙ€Ø±"], c: 0 },
            { q: "Ú©Û Ø®Ø§ÙˆÛ•Ù†ÛŒ Ú©Û†Ù…Ù¾Ø§Ù†ÛŒØ§ÛŒ ØªÛØ³Ù„Ø§ Ùˆ Ø³Ù¾Û•ÛŒØ³ Ø¦ÛÚ©Ø³Û•ØŸ", a: ["Ø¬ÛÙ Ø¨ÛØ²Û†Ø³", "Ø¦ÛŒÙ„Û†Ù† Ù…Û•Ø³Ú©", "Ø¨ÛŒÙ„ Ú¯Û•ÛŒØªØ³", "Ù…Ø§Ø±Ú© Ø²ÙˆÚ©Û•Ø±Ø¨ÛØ±Ú¯"], c: 1 },
            { q: "ÛŒÛ•Ú©Û•Ù… Ú•Û†Ú˜Ù†Ø§Ù…Û•ÛŒ Ú©ÙˆØ±Ø¯ÛŒ Ú†ÛŒ Ø¨ÙˆÙˆØŸ", a: ["Ø®Û•Ø¨Ø§Øª", "Ú©ÙˆØ±Ø¯Ø³ØªØ§Ù†", "Ú˜ÛŒÙ†", "Ù‡Ø§ÙˆØ§Ø±ÛŒ Ú©ÙˆØ±Ø¯"], c: 1 },
            { q: "Ú¯Û•ÙˆØ±Û•ØªØ±ÛŒÙ† Ú©ÛŒØ´ÙˆÛ•Ø±ÛŒ Ø¬ÛŒÙ‡Ø§Ù† Ú©Ø§Ù…Û•ÛŒÛ•ØŸ", a: ["Ø¦Û•ÙØ±ÛŒÙ‚Ø§", "Ø¦Û•Ù…Ø±ÛŒÚ©Ø§ÛŒ Ø¨Ø§Ú©ÙˆØ±", "Ø¦Ø§Ø³ÛŒØ§", "Ø¦Û•ÙˆØ±ÙˆÙˆÙ¾Ø§"], c: 2 },
            { q: "ØªÙˆØ®Ù…Û• Ú©ÛŒÙ…ÛŒØ§ÛŒÛŒ O Ù‡ÛÙ…Ø§ÛŒÛ• Ø¨Û† Ú†ÛŒØŸ", a: ["Ø²ÛÚ•", "Ø¦Û†Ú©Ø³Ø¬ÛŒÙ†", "Ø¦Ø§Ø³Ù†", "Ø²ÛŒÙˆÛ•"], c: 1 },
            { q: "Ú˜Ù…Ø§Ø±Û•ÛŒ Ø¯ÚµÛ•Ú©Ø§Ù†ÛŒ Ø¦Û•Ø®ØªÛ•Ø¨ÙˆÙˆØª (Octopus) Ú†Û•Ù†Ø¯Û•ØŸ", a: ["Ù¡", "Ù¢", "Ù£", "Ù¤"], c: 2 },
            { q: "Ú©Ø§Ù…Û•ÛŒØ§Ù† Ø³ÛŒØ³ØªÛ•Ù…ÛŒ ÙˆÛ•Ú¯Û•Ú•Ø®Û•Ø±ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„ Ù†ÛŒÛŒÛ•ØŸ", a: ["Android", "iOS", "Windows", "HTML"], c: 3 },
            { q: "Ø¨Û•Ø±Ø²ØªØ±ÛŒÙ† Ù„ÙˆØªÚ©Û• Ú†ÛŒØ§ÛŒ Ú©ÙˆØ±Ø¯Ø³ØªØ§Ù†ØŸ", a: ["Ù¾ÛŒØ±Û•Ù…Û•Ú¯Ø±ÙˆÙ†", "Ù‡Û•ÚµÚ¯ÙˆØ±Ø¯", "Ø³Û•ÙÛŒÙ†", "Ú©Û†Ú•Û•Ú©"], c: 1 },
            { q: "Ø¯Ø§Ù‡ÛÙ†Û•Ø±ÛŒ ØªÛ†Ú•ÛŒ Ø¬ÛŒÙ‡Ø§Ù†ÛŒ (WWW) Ú©ÛÛŒÛ•ØŸ", a: ["ØªÛŒÙ… Ø¨ÛØ±Ù†Û•Ø±Ø² Ù„ÛŒ", "Ø³ØªÛŒÚ¤ Ø¬Û†Ø¨Ø³", "Ø¦Ø§Ù„Ø§Ù† ØªÙˆØ±ÛŒÙ†Ú¯", "ØªÛ†Ù…Ø§Ø³ Ø¦Û•Ø¯ÛŒØ³Û†Ù†"], c: 0 },
            { q: "Ú©Ø§Ù… Ù‡Û•Ø³Ø§Ø±Û• Ø¨Û• 'Ù‡Û•Ø³Ø§Ø±Û•ÛŒ Ø³ÙˆÙˆØ±' Ù†Ø§Ø³Ø±Ø§ÙˆÛ•ØŸ", a: ["Ù…ÙˆØ³ØªÛ•Ø±ÛŒ", "Ù…Û•Ø±ÛŒØ®", "Ø²ÙˆØ­Û•Ù„", "Ø¹Û•ØªØ§Ø±Ø¯"], c: 1 },
            { q: "Ø³Ø§ÚµÛŒ Ù¢Ù Ù¢Ù¤ Ø³Ø§ÚµÛŒ Ú† Ø¦Ø§Ú˜Û•ÚµÛÚ©Û• Ù„Û• Ú•Û†Ú˜Ù…ÛØ±ÛŒ Ú†ÛŒÙ†ÛŒØŸ", a: ["Ù…Ø§Ø±", "Ø¦Û•Ú˜Ø¯ÛŒÙ‡Ø§", "Ù…Û•ÛŒÙ…ÙˆÙ†", "Ù¾ÚµÙ†Ú¯"], c: 1 },
            { q: "Ú©Û†Ù…Ù¾ÛŒÙˆØªÛ•Ø± ØªÛ•Ù†Ù‡Ø§ Ù„Û• Ú† Ø¯ÙˆÙˆ Ú˜Ù…Ø§Ø±Û•ÛŒÛ•Ú© ØªÛØ¯Û•Ú¯Ø§ØªØŸ", a: ["1 Ùˆ 2", "0 Ùˆ 1", "0 Ùˆ 9", "A Ùˆ B"], c: 1 },
            { q: "Ú†Û•Ù†Ø¯ % ÛŒ Ø¬Û•Ø³ØªÛ•ÛŒ Ù…Ø±Û†Ú¤ Ù„Û• Ø¦Ø§Ùˆ Ù¾ÛÚ©Ù‡Ø§ØªÙˆÙˆÛ•ØŸ", a: ["Ù£Ù Ùª", "Ù¥Ù Ùª", "Ù¦Ù -Ù§Ù Ùª", "Ù©Ù Ùª"], c: 2 },
            { q: "Ù‚ÙˆÙˆÚµØªØ±ÛŒÙ† Ø®Ø§Úµ Ù„Û• Ø²Û•Ø±ÛŒØ§Ø¯Ø§ Ù†Ø§ÙˆÛŒ Ú†ÛŒÛŒÛ•ØŸ", a: ["Ù…Ø§Ø±ÛŒØ§Ù†Ø§", "Ø¨Û•Ø±Ù…Û†Ø¯Ø§", "Ø¦Û•ØªÚµÛ•Ø³ÛŒ", "Ù¾Ø§Ø³ÛÙÛŒÚ©"], c: 0 }
        ];

        /**
         * ==========================================
         * 12. INITIALIZATION
         * ==========================================
         */
        window.onload = async () => {
            // Remove loading screen
            setTimeout(() => {
                const loader = document.getElementById('loader-overlay');
                loader.style.opacity = '0';
                loader.style.visibility = 'hidden';
            }, 2000);

            // Initialize countdown system
            Countdown.init();
            
            // Auto login as guest for demo
            // Comment this out for real authentication
            setTimeout(() => {
                Auth.guestLogin();
            }, 2500);
        };
    </script>
</body>
</html>
